
<div class="max-w-2xl mx-auto">
  <div class="bg-white p-6 md:p-8 rounded-lg shadow-md">
    <h2 class="text-2xl font-semibold text-gray-800 mb-6">
      {{ isEditMode ? 'Edit User' : 'Create New User' }}
    </h2>
    <form [formGroup]="userForm" (ngSubmit)="onSubmit()" novalidate>
      <div class="space-y-6">
        <div>
          <label for="name" class="block text-sm font-medium text-gray-700">Full Name</label>
          <input id="name" type="text" formControlName="name" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm" [class.border-red-500]="name?.invalid && name?.touched" />
          @if (name?.invalid && name?.touched) { <p class="mt-1 text-sm text-red-600">Name is required.</p> }
        </div>
        <div>
          <label for="email" class="block text-sm font-medium text-gray-700">Email Address</label>
          <input id="email" type="email" formControlName="email" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm" [class.border-red-500]="email?.invalid && email?.touched" />
           @if (email?.invalid && email?.touched) { <p class="mt-1 text-sm text-red-600">A valid email is required.</p> }
        </div>
        <div>
          <label for="role" class="block text-sm font-medium text-gray-700">Role</label>
          <select id="role" formControlName="role" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm">
            @for (role of availableRoles; track role) { <option [value]="role">{{ role }}</option> }
          </select>
        </div>
      </div>
      <div class="mt-8 flex justify-end gap-4">
        <a routerLink="/users" class="px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300">Cancel</a>
        <button type="submit" [disabled]="userForm.invalid" class="px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 disabled:bg-gray-400">
          {{ isEditMode ? 'Update User' : 'Save User' }}
        </button>
      </div>
    </form>
  </div>
</div>